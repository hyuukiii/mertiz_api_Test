<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_vertical_guides="" meta_horizontal_guides="218">
        <w2:type>COMPONENT</w2:type>
        <w2:buildDate/>
        <w2:MSA/>
        <xf:model>
        	<w2:dataCollection baseNode="map">
        		<w2:dataMap baseNode="map" id="dma_insuInfo">
        			<w2:keyInfo>
        				<w2:key id="age" name="나이" dataType="number"></w2:key>
        				<w2:key id="diseaseCode" name="질병코드" dataType="text"></w2:key>
        				<w2:key id="premium" name="보험료" dataType="number"></w2:key>
        				<w2:key id="resultMsg" name="심사결과" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_customerList" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="custNo" name="고유ID" dataType="text"></w2:column>
        				<w2:column id="name" name="이름" dataType="text"></w2:column>
        				<w2:column id="age" name="나이" dataType="number"></w2:column>
        				<w2:column id="code" name="질병코드" dataType="number"></w2:column>
        				<w2:column id="result" name="심사결과" dataType="text"></w2:column>

        			</w2:columnInfo>
        		</w2:dataList>
        		<w2:dataList baseNode="list" id="dlt_paymentLog" repeatNode="map" saveRemovedData="true" style="">
        			<w2:columnInfo>
        				<w2:column dataType="number" id="PAY_ID" name="결재아이디"></w2:column>
        				<w2:column dataType="text" id="USER_ID" name="유저아이디"></w2:column>
        				<w2:column dataType="number" id="AMOUNT" name="결재금액"></w2:column>
        				<w2:column dataType="text" id="PAY_DATE" name="결제일자"></w2:column>
        				<w2:column dataType="text" id="STATUS" name="상태"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        		<w2:dataMap baseNode="map" id="dma_searchParam">
        			<w2:keyInfo>
        				<w2:key id="page" name="현재페이지" dataType="text"></w2:key>
        				<w2:key id="size" name="크기" dataType="text"></w2:key>
        				<w2:key id="userId" name="고객ID" dataType="text"></w2:key>
        			</w2:keyInfo>
        		</w2:dataMap>
        		<w2:dataList baseNode="list" repeatNode="map" id="dlt_diseaseList" saveRemovedData="true">
        			<w2:columnInfo>
        				<w2:column id="diseaseCode" name="질병코드" dataType="text"></w2:column>
        				<w2:column id="diseaseName" name="질병명" dataType="text"></w2:column>
        				<w2:column id="treatDate" name="치료일자" dataType="text"></w2:column>
        			</w2:columnInfo>
        		</w2:dataList>
        	</w2:dataCollection>
        	<w2:workflowCollection />
        	<xf:submission id="sbm_saveData" ref="data:json,dlt_customerList" target="" action="http://localhost:8081/api/saveBatch"
        		method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler=""
        		mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="scwin.sbm_saveData_submitdone"
        		ev:submiterror="scwin.sbm_saveData_submiterror" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_getPayments" ref="" target="" action="http://localhost:8081/api/payments" method="get"
        		mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler="" mode="asynchronous"
        		processMsg="" ev:submit="" ev:submitdone="scwin.sbm_getPayments_submitdone" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_getCustomers" ref="" target="data:json,dlt_customerList" action="http://localhost:8081/api/customers"
        		method="get" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler=""
        		mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="" ev:submiterror="" abortTrigger="">
        	</xf:submission>
        	<xf:submission id="sbm_saveDisease" ref="data:json,dlt_diseaseList" target="" action="http://localhost:8081/api/disease"
        		method="post" mediatype="application/json" encoding="UTF-8" instance="" replace="" errorHandler="" customHandler=""
        		mode="asynchronous" processMsg="" ev:submit="" ev:submitdone="scwin.sbm_saveDisease_submitdone"
        		ev:submiterror="scwin.sbm_saveDisease_submiterror" abortTrigger="">
        	</xf:submission>
        </xf:model>
        <w2:layoutInfo/>
        <w2:publicInfo method=""/>
        <script lazy="false" type="text/javascript"><![CDATA[
scwin.onpageload = function() {
};

/* ==========================================
   심사실행 버튼
   ========================================== */
scwin.btn_calc_onclick = function(e) {

const age = parseInt(dma_insuInfo.get("age"));
const code = dma_insuInfo.get("diseaseCode");

let finalPremium = 0;
let msg = "";

// 비즈니스 로직
if(code === "I10") {
    msg = "심사 거절 대상자 (고혈압)";
    finalPremium = 0;
} else {
    if ( age >= 50) {
        finalPremium = 50000;
        msg = "심사 승인 : 실버 플랜(50,000원)";
    } else {
        finalPremium = 30000;
        msg = "심사 승인 : 베이직 플랜(30,000원)";
    }
}

// 결과 반영
dma_insuInfo.set("premium", finalPremium);
dma_insuInfo.set("resultMsg", msg);

alert(msg);

};

/* ==========================================
   위쪽 그리드 조회 버튼
   ========================================== */
scwin.btn_search_onclick = function(e) {

$p.executeSubmission("sbm_getCustomers");
};


/* ==========================================
   일괄심사 버튼
   ========================================== */
scwin.btn_batch_onclick = function(e) {

// 1. 그리드에 있는 전체 데이터 건수 가져오기
const rowCount = dlt_customerList.getRowCount();

// 데이터 존재 유무 검증
if(rowCount === 0) {
    alert("먼저 전체 조회를 실행 해주세요.")
    return;
}

// 데이터 일괄처리 하기
for(let i = 0; i < rowCount; i++) {
    const age = parseInt(dlt_customerList.getCellData(i, "age"));
    const code = dlt_customerList.getCellData(i, "code");

    let msg = "";
    let finalPremium = 0;

    // 비즈니스 로직
    if(code === "I10") {
        msg = "거절 (고혈압)";
    } else {
        if (age >= 50) {
            finalPremium = 50000;
            msg = "실버 플랜";
        } else {
            finalPremium = 30000;
            msg = "베이직 플랜";
        }
    }

    // 심사 결과 현재 행의  result 컬럼에 세팅
    // 세팅하는 순간 그리드 화면도 즉시 업데이트 됨
    if(finalPremium > 0) {
        dlt_customerList.setCellData(i,"result", msg + "(" + finalPremium + "원)");
    } else {
        dlt_customerList.setCellData(i, "result", msg)
    }
}

alert(rowCount + "건의 일괄 심사가 완료되었습니다!");

};


/* ==========================================
   저장 버튼
   ========================================== */
scwin.btn_save_onclick = function(e) {
    const rowCount = dlt_customerList.getRowCount();

    // 아예 데이터가 없는 경우
    if(rowCount === 0) {
        alert("저장 할 데이터가 없습니다. 먼저 조회를 실행 해주세요");
    }

    // 심사결과가 비어있는지 확인
    for(let i = 0; i < rowCount; i++) {
        const resultVal = dlt_customerList.getCellData(i, "result");

        // result 값이 없거나 비어있는 경우
        if(!resultVal || resultVal.trim() === "") {
            alert("아직 심사가 완료되지 않은 데이터가 있습니다. \n먼저 [일괄심사]를 진행해주세요");
            return;
        }
    }

    // 심사결과 서브미션을 서버로 최종 전송한다
    if(confirm("심사 결과를 서버에 저장하시겠습니까?")) {
        $p.executeSubmission("sbm_saveData"); 
    }
};

// 통신 완료 콜백 함수 : submitDone
scwin.sbm_saveData_submitdone = function(e) {
    // e.responseJSON 안에 서버에서 보낸 결과값이 들어 있음
    console.log("서버 응답 결과:", e);
    alert("서버 저장이 완료 되었습니다!");

    $p.executeSubmission("sbm_getCustomers");
};


// 통신 실패 콜백 함수 : submiterror
scwin.sbm_saveData_submiterror = function(e) {
    // e 객체 안에 에러 코드, 상세 내용 들어 있음
    console.error("서버 전송 실패", e);

    // 사용자 알럿
    alert("서버 저장 중 오류가 발생했습니다. \n네트워크 상태를 확인하거나 관리자에게 문의 하세요.");
};


/* ==========================================
   하단 결제내역 버튼
   ========================================== */
scwin.btn_getPayment_onclick = function(e) {
    
    // 전체 조회를 위해 특정 고객 ID를 비움
    dma_searchParam.set("userId", "");
    
    // 1페이지로 세팅 후 조회 실행
    dma_searchParam.set("page", 1);
    scwin.searchList();
};


/* ==========================================
   [다음 페이지] 버튼
   ========================================== */
scwin.btn_next_onclick = function(e) {
// 1. 현재 페이지 번호 가져오기
let currentPage = dma_searchParam.get("page");
// 2. 페이지 번호 +1 하기
dma_searchParam.set("page", Number(currentPage) + 1);
scwin.searchList();
};


/* ==========================================
   [이전 페이지] 버튼 클릭
   ========================================== */
scwin.btn_prev_onclick = function(e) {
    let currentPage = dma_searchParam.get("page");

    // 1페이지보다 작아질 순 없으므로 검증 로직 추가
    if(Number(currentPage) > 1) {
        dma_searchParam.set("page", Number(currentPage) - 1);
        scwin.searchList();
    } else {
        alert("첫 번째 페이지입니다.");
    }
};


scwin.btn_addRow_onclick = function(e) {
// 그리드의 총 데이터 건수 구하기
const rowIndex = dlt_customerList.getRowCount();

// 맨 마지막 줄에 빈 행을 추가
dlt_customerList.insertRow(rowIndex);

// 행이 추가 되면 마지막 줄에 포커스 -> 바로 타이핑 가능
dis_Grid.setFocusedCell(rowIndex, "custNo", true);

};


/* ==========================================
   [행삭제] 버튼
   ========================================== */
scwin.btn_delRow_onclick = function(e) {
    // 1. 그리드에서 현재 선택된 행의 번호를 가져 옴
    const focusedIndex = dis_Grid.getFocusedRowIndex();

    // 2. 방어 로직 : 아무 행도 선택하지 않은 상태라면?
    if(focusedIndex === -1) {
        alert("삭제할 행을 먼저 클릭해서 선택해주세요.");
        return;
    }

    // 3. 삭제 재차 확인
    if(confirm("선택하신 행을 삭제하시겠습니까? \n(※ [저장] 버튼을 눌러야 서버에 최종 반영됩니다.")) {
        dlt_customerList.deleteRow(focusedIndex);
    }
};
    
/* ==========================================
   상단 그리드 셀 클릭 -> 하단 그리드 자동 바인딩
   ========================================== */
scwin.dis_Grid_oncellclick = function(row,col,colId) {
    // 1. 마우스로 클릭한 줄의 고객ID를 가져온다
    let clickedCustNo = dlt_customerList.getCellData(row, "custNo");

    // 빈 줄( 새로 추가한 행)을 클릭 했을때 조회 안함
    if(!clickedCustNo || clickedCustNo.trim()  === "") {
        return;
    }

    console.log("선택된 고객 ID : ", clickedCustNo);

    // 검색 조건 파라미터에  클릭한 고객 ID를 userId라는 이름으로 담아줌
    dma_searchParam.set("userId", clickedCustNo);

    dma_searchParam.set("page", 1);

    scwin.searchList();

};

scwin.sbm_getPayments_submitdone = function(e) {
    dlt_paymentLog.setJSON(e.responseJSON);
    console.log("결제 내역 조회 및 그리드 세팅 완료!");
};


/* ==========================================
   알릴의무 라디오 버튼 클릭 이벤트
   ========================================== */
scwin.rad_duty_onviewchange = function(info) {

    let selectedVal = rad_duty.getValue();

    console.log("선택된 라디오 값 :", selectedVal);

    if(selectedVal === "Y") {
        // '예' 클릭 시 그룹 표시
        grp_disease.show("block");
        // grp_disease.setStyle("display", "block");
    } else { 
        // '아니오' 누르면 그룹 다시 숨김
        grp_disease.hide();
        dlt_diseaseList.removeAll();
    }
};

/* ==========================================
   알릴 의무 고지 이력추가(행추가) 버튼
   ========================================== */
scwin.btn_addDisease_onclick = function(e) {
    let rowIndex = dlt_diseaseList.getRowCount();
    dlt_diseaseList.insertRow(rowIndex);
    grd_disease.setFocusedCell(rowIndex, "diseaseCode", true);
};

/* ==========================================
   알릴의무 질병 이력 저장버튼
   ========================================== */
scwin.btn_saveDisease_onclick = function(e) {
    // 그리드에 데이터가 몇 줄 있는지 확인
    let rowCount = dlt_diseaseList.getRowCount();

    if(rowCount === 0) {
        alet("추가된 질병 이력이 없습니다.");
        return;
    }

    // 유효성 검사 하기
    for(let i = 0; i < rowCount; i++) {
        let dCode = dlt_diseaseList.getCellData(i, "diseaseCode");
        let dName = dlt_diseaseList.getCellData(i, "diseaseName");

        // 질병코드나 질병명이 비어 있 을 때
        if(!dCode || !dCode.trim() === "" || !dName || dName.trim() === "") {
            alert((i + 1) + "번째 줄의 질병코드와 질병명을 모두 입력 해 주세요");
            // 빈칸으로 커서가 자동으로 이동하게 하기
            grd_disease.setFocusedCell(i, "diseaseCode", true);
            // 함수를 멈추고 서버로 전송 안되게 해야 함
            return; 
        }
    }

    // 유효성 검사 통과 -> 서버 전송
    if(confirm("작성하신" + rowCount + "건의 질병 이력을 저장 하시겠습니까?")) {
        $p.executeSubmission("sbm_saveDisease");
    }
};

/* ==========================================
   알릴의무 저장 완료/실패 콜백 함수
   ========================================== */
scwin.sbm_saveDisease_submitdone = function(e) {
    console.log("질병 저장 서버 응답:", e.responseJSON);
    // 저장 성공 시 그리드 초기화 및 닫기
    rad_duty.setValue("N");
    grp_disease.hide();
    dlt_diseaseList.removeAll();
};

scwin.sbm_saveDisease_submiterror = function(e) {
    console.log("알릴의무 질병 저장 중 에러 :", e);
    alert("서버 저장 중 오류가 발생했습니다. \n네트워크 상태를 확인하거나 관리자에게 문의 하세요.");
};




/* ==========================================
   공통 함수
   ========================================== */
scwin.searchList = function() {
    let page = dma_searchParam.get("page") || 1;
    let size = dma_searchParam.get("size") || 100;

    // 검색 파라미터에서 userId 확인 ()
    let userId = dma_searchParam.get("userId") || "";

    // API 주소 뒤에 파라미터를 동적으로
    let targetUrl = "http://localhost:8081/api/payments?page=" + page + "&size=" + size;

    if(userId !== "") {
        targetUrl += "&userId=" + userId;
    }

    console.log("호출하는 백엔드 주소:", targetUrl);

    // 서브미션 객체를 찾고 액션을 수정하여 서버로 전송
    let subObj = $p.getSubmission("sbm_getPayments");
    subObj.action = targetUrl;

    $p.executeSubmission("sbm_getPayments");   
  };
]]></script>
    </head>
    <body ev:onpageload="scwin.onpageload" style="padding: 20px; font-family: 'Malgun Gothic', sans-serif; min-width: 800px;">

        <w2:textbox label="1. 보험료 간편 심사 및 알릴의무" style="font-size: 16px; font-weight: bold; margin-bottom: 10px; border-bottom: 2px solid #2c3e50; padding-bottom: 5px;"></w2:textbox>
        
        <xf:group style="margin-bottom: 30px; padding: 15px; border: 1px solid #ddd; border-radius: 5px; background-color: #f8f9fa;">
            
            <xf:group style="display: flex; align-items: center; margin-bottom: 15px;">
                <w2:textbox label="질병코드 :" style="width: 70px; font-weight: bold;"></w2:textbox>
                <xf:input ref="data:dma_insuInfo.diseaseCode" style="width: 120px; height: 24px; margin-right: 20px;"></xf:input>
                
                <w2:textbox label="나이 :" style="width: 50px; font-weight: bold;"></w2:textbox>
                <xf:input ref="data:dma_insuInfo.age" style="width: 80px; height: 24px; margin-right: 20px;"></xf:input>
                
                <xf:trigger type="button" ev:onclick="scwin.btn_calc_onclick" style="width: 80px; height: 28px; background-color: #0d6efd; color: white; border: none; border-radius: 3px; font-weight: bold;">
                    <xf:label><![CDATA[심사실행]]></xf:label>
                </xf:trigger>
            </xf:group>

            <xf:group style="display: flex; align-items: center;">
                <w2:textbox label="최근 1년 내 의사 진찰 이력이 있습니까?" style="font-weight: bold; margin-right: 15px;"></w2:textbox>
                <xf:select1 id="rad_duty" selectedIndex="-1" appearance="full" cols="2" ev:onviewchange="scwin.rad_duty_onviewchange" style="width: 150px; height: 24px;">
                    <xf:choices>
                        <xf:item><xf:label><![CDATA[예(입력)]]></xf:label><xf:value><![CDATA[Y]]></xf:value></xf:item>
                        <xf:item><xf:label><![CDATA[아니오]]></xf:label><xf:value><![CDATA[N]]></xf:value></xf:item>
                    </xf:choices>
                </xf:select1>
            </xf:group>

            <xf:group id="grp_disease" style="display:none; margin-top: 15px; border: 1px solid #ced4da; padding: 15px; background-color: #ffffff; border-radius: 4px;">
                <xf:trigger type="button" id="btn_addDisease" ev:onclick="scwin.btn_addDisease_onclick" style="width: 90px; height: 26px; margin-bottom: 10px; background-color: #198754; color: white; border: none; border-radius: 3px;">
                    <xf:label><![CDATA[+ 이력추가]]></xf:label>
                </xf:trigger>
                
                <xf:trigger type="button" id="btn_saveDisease" ev:onclick="scwin.btn_saveDisease_onclick" style="width: 90px; height: 26px; background-color: #dc3545; color: white; border: none; border-radius: 3px; font-weight: bold;">
                    <xf:label><![CDATA[질병 저장]]></xf:label>
                </xf:trigger>
            </xf:group>
            
                <w2:gridView checkAllType="false" defaultCellHeight="24" id="grd_disease" style="width: 100%; height: 120px;" dataList="data:dlt_diseaseList">
                    <w2:header id="header1">
                        <w2:row id="row1">
                            <w2:column width="100" inputType="text" id="column1" value="질병코드"></w2:column>
                            <w2:column width="150" inputType="text" id="column3" value="질병명"></w2:column>
                            <w2:column width="100" inputType="text" id="column4" value="치료일자"></w2:column>
                        </w2:row>
                    </w2:header>
                    <w2:gBody id="gBody1">
                        <w2:row id="row2">
                            <w2:column width="100" inputType="text" id="diseaseCode"></w2:column>
                            <w2:column width="150" inputType="text" id="diseaseName"></w2:column>
                            <w2:column width="100" inputType="text" id="treatDate"></w2:column>
                        </w2:row>
                    </w2:gBody>
                </w2:gridView>
            </xf:group>
        </xf:group>


        <xf:group style="margin-bottom: 30px;">
            <xf:group style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 10px;">
                <w2:textbox label="▶ 고객 목록 (Master)" style="font-size: 15px; font-weight: bold;"></w2:textbox>
                <xf:group style="display: flex; gap: 5px;">
                    <xf:trigger type="button" ev:onclick="scwin.btn_addRow_onclick" style="width: 70px; height: 26px;"><xf:label><![CDATA[행추가]]></xf:label></xf:trigger>
                    <xf:trigger type="button" ev:onclick="scwin.btn_delRow_onclick" style="width: 70px; height: 26px;"><xf:label><![CDATA[행삭제]]></xf:label></xf:trigger>
                    <xf:trigger type="button" ev:onclick="scwin.btn_search_onclick" style="width: 70px; height: 26px; background-color: #6c757d; color: white; border: none;"><xf:label><![CDATA[조회]]></xf:label></xf:trigger>
                    <xf:trigger type="button" ev:onclick="scwin.btn_batch_onclick" style="width: 80px; height: 26px; background-color: #0dcaf0; color: white; border: none;"><xf:label><![CDATA[일괄심사]]></xf:label></xf:trigger>
                    <xf:trigger type="button" ev:onclick="scwin.btn_save_onclick" style="width: 70px; height: 26px; background-color: #ffc107; color: black; border: none; font-weight: bold;"><xf:label><![CDATA[저장]]></xf:label></xf:trigger>
                </xf:group>
            </xf:group>
            
            <w2:gridView checkAllType="false" defaultCellHeight="24" id="dis_Grid" style="width: 100%; height: 250px;" dataList="data:dlt_customerList" rowStatusVisible="true" ev:oncellclick="scwin.dis_Grid_oncellclick">
                <w2:header id="header1">
                    <w2:row id="row1">
                        <w2:column width="100" inputType="text" id="column1" value="고유ID"></w2:column>
                        <w2:column width="120" inputType="text" id="column3" value="이름"></w2:column>
                        <w2:column width="80" inputType="text" id="column4" value="나이"></w2:column>
                        <w2:column width="100" inputType="text" id="column5" value="질병코드"></w2:column>
                        <w2:column width="200" inputType="text" id="column6" value="심사결과"></w2:column>
                    </w2:row>
                </w2:header>
                <w2:gBody id="gBody1">
                    <w2:row id="row2">
                        <w2:column width="100" inputType="text" id="custNo"></w2:column>
                        <w2:column width="120" inputType="text" id="name"></w2:column>
                        <w2:column width="80" inputType="text" id="age"></w2:column>
                        <w2:column width="100" inputType="text" id="code"></w2:column>
                        <w2:column width="200" inputType="text" id="result"></w2:column>
                    </w2:row>
                </w2:gBody>
            </w2:gridView>
        </xf:group>


        <xf:group style="margin-bottom: 20px;">
            <xf:group style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 10px;">
                <w2:textbox label="▶ 고객 결제 내역 (Detail)" style="font-size: 15px; font-weight: bold;"></w2:textbox>
                <xf:group style="display: flex; gap: 5px;">
                    <xf:trigger type="button" ev:onclick="scwin.btn_getPayment_onclick" style="width: 90px; height: 26px; background-color: #6c757d; color: white; border: none;"><xf:label><![CDATA[전체 조회]]></xf:label></xf:trigger>
                </xf:group>
            </xf:group>

            <w2:gridView checkAllType="false" defaultCellHeight="24" id="dlt_paymentLog_grid" style="width: 100%; height: 200px;" dataList="data:dlt_paymentLog">
                <w2:header id="header1">
                    <w2:row id="row1">
                        <w2:column width="100" inputType="text" id="column1" value="결제아이디"></w2:column>
                        <w2:column width="100" inputType="text" id="column4" value="유저아이디"></w2:column>
                        <w2:column width="120" inputType="text" id="column5" value="결제금액"></w2:column>
                        <w2:column width="150" inputType="text" id="column6" value="결제일자"></w2:column>
                        <w2:column width="100" inputType="text" id="column7" value="상태"></w2:column>
                    </w2:row>
                </w2:header>
                <w2:gBody id="gBody1">
                    <w2:row id="row2">
                        <w2:column width="100" inputType="text" id="PAY_ID"></w2:column>
                        <w2:column width="100" inputType="text" id="USER_ID"></w2:column>
                        <w2:column width="120" inputType="text" id="AMOUNT"></w2:column>
                        <w2:column width="150" inputType="text" id="PAY_DATE"></w2:column>
                        <w2:column width="100" inputType="text" id="STATUS"></w2:column>
                    </w2:row>
                </w2:gBody>
            </w2:gridView>

            <xf:group style="display: flex; justify-content: center; margin-top: 15px; gap: 10px;">
                <xf:trigger type="button" ev:onclick="scwin.btn_prev_onclick" style="width: 80px; height: 28px;"><xf:label><![CDATA[◀ 이전]]></xf:label></xf:trigger>
                <xf:trigger type="button" ev:onclick="scwin.btn_next_onclick" style="width: 80px; height: 28px;"><xf:label><![CDATA[다음 ▶]]></xf:label></xf:trigger>
            </xf:group>
        </xf:group>

    </body>
</html>
